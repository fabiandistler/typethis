---
title: "Getting Started with typethis"
author: "Fabian Distler"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with typethis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  eval = FALSE  # Don't actually run the animations in vignette
)
```

# Introduction

The `typethis` package brings animated typing effects to your R console. Whether you're creating presentations, tutorials, or interactive CLI applications, `typethis` helps you create engaging, character-by-character typing animations with realistic human-like behavior.

## Installation

```{r}
# Install from GitHub
devtools::install_github("fabiandistler/typethis")

# Load the package
library(typethis)
```

# Basic Usage

## Simple Typing

The core function `type_this()` types out text character by character:

```{r}
type_this("Hello, World!")
```

By default, this types at 10 characters per second. You can adjust the speed:

```{r}
# Slower, more dramatic
type_this("Important message", speed = 5)

# Faster
type_this("Quick output", speed = 30)
```

## Speed Presets

Instead of numeric values, use named presets:

```{r}
type_this("Cinematic reveal...", speed = "cinematic")  # Very slow (2 cps)
type_this("Slow and steady", speed = "slow")           # 4 cps
type_this("Human-like typing", speed = "human")        # 8 cps
type_this("Normal speed", speed = "normal")            # 10 cps
type_this("Fast output", speed = "fast")               # 20 cps
type_this("Blazing fast!", speed = "blazing")          # 50 cps
```

# Adding Realism

## Human-like Variation

Real humans don't type at constant speed. Add variation:

```{r}
# High variation = more human-like
type_this("This feels natural",
          speed = 10,
          speed_var = 0.5)  # 50% variation

# Low variation = more robotic
type_this("This is mechanical",
          speed = 10,
          speed_var = 0.1)  # 10% variation
```

## Typos and Corrections

Simulate realistic typing mistakes:

```{r}
# 5% chance of typos (will auto-correct with backspace)
type_this("Sometimes I make mistkaes",
          speed = "human",
          typo_prob = 0.05)
```

## Thinking Pauses

Add pauses between words to simulate thinking:

```{r}
type_this("Let me think... about this problem",
          speed = "human",
          pause_prob = 0.2,      # 20% chance of pause after each word
          pause_duration = 0.8)   # 0.8 second pauses
```

# Styling and Colors

## Text Colors

Use crayon color names:

```{r}
type_this("Success!", color = "green")
type_this("Warning!", color = "yellow")
type_this("Error!", color = "red")
type_this("Info", color = "cyan")
type_this("Note", color = "blue")
```

## Text Styles

Apply formatting:

```{r}
type_this("Bold text", style = "bold")
type_this("Italic text", style = "italic")
type_this("Underlined", style = "underline")

# Combine with color
type_this("Bold and red",
          color = "red",
          style = "bold")
```

# Special Effects

## Pre-configured Effects

Use `type_effect()` for common scenarios:

```{r}
# Error message (red, bold, with ERROR: prefix)
type_effect("File not found", effect = "error")

# Warning (yellow, with WARNING: prefix)
type_effect("Deprecated function", effect = "warning")

# Success (green, with checkmark)
type_effect("Task completed", effect = "success")

# Info (cyan, with info icon)
type_effect("Loading data...", effect = "info")

# Dramatic (slow, with cursor)
type_effect("The winner is...", effect = "dramatic")

# Glitch (fast, erratic, with typos)
type_effect("System malfunction", effect = "glitch")
```

## Custom Timing

Add delays for dramatic effect:

```{r}
type_this("Wait for it...",
          delay_start = 1,    # 1 second before starting
          delay_end = 2,      # 2 seconds after finishing
          cursor = TRUE)      # Show blinking cursor
```

# Code Demonstrations

## Typing Code

Use `type_code()` for code snippets:

```{r}
# Single line with R prompt
type_code("library(dplyr)")

# Multiple lines
type_code(c(
  "data <- read.csv('data.csv')",
  "summary(data)",
  "head(data)"
))
```

## Different Languages

Specify the language for appropriate prompts:

```{r}
# Python
type_code("import pandas as pd", language = "python")

# JavaScript
type_code("const x = 10;", language = "javascript")

# Bash
type_code("git commit -m 'Update'", language = "bash")
```

## Realistic Coding

Use the "coder" preset for realistic coding rhythm:

```{r}
type_code(c(
  "calculate_mean <- function(x) {",
  "  # Remove NA values",
  "  clean_x <- na.omit(x)",
  "  # Calculate mean",
  "  mean(clean_x)",
  "}"
), speed = "coder")
```

# Multiple Lines

## Type Lists

Use `type_lines()` for multiple lines with consistent styling:

```{r}
type_lines(c(
  "Initialize project",
  "Install dependencies",
  "Configure settings",
  "Run tests"
), prefix = "• ", speed = "fast")
```

## Numbered Lists

```{r}
items <- c("First step", "Second step", "Third step")
prefixes <- paste0(seq_along(items), ". ")

for (i in seq_along(items)) {
  type_line(items[i], prefix = prefixes[i])
}
```

# Interactive Experiences

## Prompts with Input

Create interactive command-line experiences:

```{r}
# Ask for user input
name <- type_prompt("What is your name?", color = "cyan")

# Respond
type_effect(paste0("Hello, ", name, "!"), effect = "success")

# Confirmation
continue <- type_prompt("Would you like to continue? (y/n)")

if (tolower(continue) == "y") {
  type_line("Great! Let's proceed...", speed = "fast")
} else {
  type_effect("Exiting...", effect = "info")
}
```

## Quiz Application

```{r}
type_line("R Programming Quiz", style = "bold")
type_line("-------------------")

question <- "What function creates a vector?"
type_this(question, speed = "human")

answer <- type_prompt("Your answer:")

if (tolower(answer) == "c") {
  type_effect("Correct!", effect = "success")
} else {
  type_effect("Incorrect. The answer is c()", effect = "error")
}
```

# Advanced Techniques

## Global Speed Settings

Set a default speed for your session:

```{r}
# Save current speed
old_speed <- set_typing_speed("fast")

# All typing now uses fast speed by default
type_this("This is fast")
type_this("This too!")
type_line("And this!")

# Restore original
set_typing_speed(old_speed)
```

## Presentation Framework

Create a complete presentation:

```{r}
present <- function() {
  # Title slide
  matrix_rain(duration = 1)
  type_this("Advanced R Programming",
            speed = "cinematic",
            style = "bold",
            cursor = TRUE)
  Sys.sleep(2)

  # Slide 1
  type_line("1. Introduction", style = "bold", color = "cyan")
  type_lines(c(
    "R is a powerful language",
    "Used for statistical computing",
    "Great for data visualization"
  ), prefix = "  • ", speed = "human")
  Sys.sleep(2)

  # Slide 2
  type_line("2. Live Demo", style = "bold", color = "cyan")
  type_code(c(
    "x <- 1:100",
    "y <- x^2",
    "plot(x, y, type = 'l')"
  ), speed = "coder")
  Sys.sleep(2)

  # Conclusion
  type_effect("Thank you!", effect = "success")
}

# Run presentation
present()
```

## Progress Indicators

Simulate long-running operations:

```{r}
simulate_process <- function(task_name, duration = 3) {
  type_line(paste0("Starting: ", task_name), color = "cyan")

  # Show progress
  steps <- c("Initializing", "Processing", "Validating", "Finalizing")
  step_duration <- duration / length(steps)

  for (step in steps) {
    type_line(paste0("  ", step, "..."),
              speed = "fast",
              color = "yellow")
    Sys.sleep(step_duration)
  }

  type_effect(paste0(task_name, " complete!"), effect = "success")
}

# Usage
simulate_process("Data import", duration = 5)
```

## Matrix Rain Effect

Add sci-fi flair:

```{r}
# Quick flash
matrix_rain(duration = 1, density = 0.2)

# Longer, denser rain
matrix_rain(duration = 3, density = 0.5, width = 80)

# Combine with typing
matrix_rain(duration = 2)
type_this("Access granted", color = "green", style = "bold")
```

# Use Case Examples

## Tutorial Simulation

```{r}
tutorial <- function() {
  type_line("=== R Tutorial: Data Frames ===", style = "bold")
  Sys.sleep(0.5)

  type_line("Let's create a simple data frame:", color = "cyan")
  type_code("df <- data.frame(x = 1:3, y = c('a', 'b', 'c'))")
  Sys.sleep(1)

  type_line("View the structure:", color = "cyan")
  type_code("str(df)")
  Sys.sleep(1)

  type_effect("Tutorial complete!", effect = "success")
}
```

## Error Recovery Demo

```{r}
deploy <- function() {
  type_line("Deploying application...", speed = "fast")
  Sys.sleep(2)

  type_effect("Error: Connection timeout", effect = "error")
  Sys.sleep(1)

  type_line("Retrying with backup server...", color = "yellow")
  Sys.sleep(2)

  type_effect("Deployment successful!", effect = "success")
}
```

## Installation Simulation

```{r}
install_simulation <- function(package) {
  type_line(paste0("Installing ", package, "..."),
            prefix = "$ ",
            speed = "human")

  Sys.sleep(0.5)

  type_lines(c(
    "Downloading package archive",
    "Verifying package integrity",
    "Extracting files",
    "Building package",
    "Testing installation"
  ), prefix = "  → ", speed = "fast", delay_between = 0.3)

  Sys.sleep(0.5)
  type_effect(paste0(package, " installed successfully!"), effect = "success")
}

install_simulation("awesome-package")
```

# Best Practices

## Speed Selection

- **cinematic (2 cps)**: Title reveals, dramatic moments
- **slow (4 cps)**: Important messages, emphasis
- **human (8 cps)**: Realistic demos, tutorials
- **normal (10 cps)**: General purpose, default
- **fast (20 cps)**: Long text, less emphasis
- **blazing (50 cps)**: Quick output, terminal feel

## Color Conventions

Follow standard conventions for clarity:

- **Red**: Errors, failures, critical warnings
- **Yellow**: Warnings, cautions
- **Green**: Success, completion, affirmations
- **Cyan**: Information, prompts, questions
- **Blue**: Notes, secondary information

## Performance Tips

1. Use high speeds for long text to avoid slow sessions
2. Lower `speed_var` for more predictable timing
3. Reduce `typo_prob` for cleaner output
4. Disable effects when speed matters

```{r}
# Good for demos
type_this("Demo text", speed = "human", typo_prob = 0.02)

# Good for production
type_this("Production text", speed = "fast", typo_prob = 0)
```

## Accessibility

Consider your audience:

- Don't make effects too slow in live presentations
- Provide option to skip animations
- Use clear colors with good contrast
- Add pauses between major sections

# Conclusion

The `typethis` package offers a rich set of tools for creating engaging console animations. Whether you're teaching, presenting, or building interactive applications, these typing effects add a professional, dynamic touch to your R sessions.

For more examples and updates, visit the [GitHub repository](https://github.com/fabiandistler/typethis).

Happy typing!
